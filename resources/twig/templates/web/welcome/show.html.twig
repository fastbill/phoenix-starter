{% extends 'layout.html.twig' %}

{% block content %}
<div class="card">
    <nav class="nav">
        <a href="/">Home</a>
        <a href="/welcome">Try Again</a>
    </nav>

    <h1>{{ title }}</h1>

    <div class="success-message" style="font-size: 1.3em;">
        {{ greeting }}
    </div>

    <h2 style="margin-top: 30px;">What Just Happened</h2>
    <p>The greeting was generated by the Phoenix CQRS pattern:</p>
    <pre><code>// Controller received the request
$input = GetGreetingInput::createOrFail(['name' => $name]);
$useCase = new GetGreetingUseCase($input);

// DispatcherService routes to the handler
$result = $dispatcher->dispatchUseCase($useCase);

// Handler used configuration to build the greeting
$prefix = $config->get('welcome.greeting_prefix'); // "{{ app.config.get('welcome.greeting_prefix') }}"
$capitalize = $config->get('welcome.capitalize_names'); // {{ app.config.get('welcome.capitalize_names') ? 'true' : 'false' }}</code></pre>

    <p style="margin-top: 20px;">
        <a href="/welcome" class="btn">Create Another Greeting</a>
    </p>
</div>
{% endblock %}
